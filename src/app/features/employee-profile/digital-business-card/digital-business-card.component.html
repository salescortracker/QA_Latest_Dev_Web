 <app-header></app-header>
 <app-sidebar></app-sidebar>
 <div class="dashboard-header">
  <h2 class="dashboard-title">Digital Business Card</h2>
  <nav class="breadcrumb">
    <a href="#"> Home</a> &gt; 
     <a href="#"> Employee Profile</a> &gt; 
    <span>Digital Business Card</span>
  </nav>
</div>
<div class="business-card-wrapper" *ngIf="profile">

  <!-- â­ WRAPPER FOR PDF DOWNLOAD -->
  <div id="card-section">

    <div class="business-card">

      <!-- Profile Icon or Image -->
      <div class="profile-icon-container">
        <ng-container *ngIf="profile.profilePictureBase64; else defaultIcon">
          <img
            [src]="'data:image/png;base64,' + profile.profilePictureBase64"
            class="profile-icon"
            alt="Profile Image"
          />
        </ng-container>

        <ng-template #defaultIcon>
          <i class="fa-solid fa-user-circle profile-icon"></i>
        </ng-template>
    <div class="upload-overlay" (click)="openImageOptions()">
  <i class="fa-solid fa-camera"></i>
</div>

<!-- CAMERA INPUT -->
<input 
  type="file" 
  accept="image/*" 
  capture="camera"
  #cameraInput 
  (change)="onPhotoSelected($event)" 
  hidden
/>
<input type="file" accept="image/*" #galleryInput (change)="onPhotoSelected($event)" hidden />


      </div>

      <!-- Card Content -->
      <div class="card-content">
        <div class="header">
          <div>
            <h2>{{ profile.fullName }}</h2>
            <h3>{{ profile.rolename }}</h3>
          </div>
        </div>
        <div class="info">
          <p><span>Company:</span> {{ profile.companyName || 'N/A' }}</p>
          <p><span>Email:</span> {{ profile.email || 'N/A' }}</p>
          <p><span>Phone:</span> {{ profile.phone || 'N/A' }}</p>
          <p><span>Location:</span> {{ profile.location || 'N/A' }}</p>
        </div>

        <div class="social-links">
          <a href="https://www.linkedin.com/in/johndoe" target="_blank">
            <i class="fab fa-linkedin"></i>
          </a>
          <a href="https://github.com" target="_blank">
            <i class="fab fa-github"></i>
          </a>
        </div>
      </div>
      
    </div> <!-- END business-card -->

  </div> <!-- END id="card-section" -->

  <!-- Download Buttons -->
  <div class="download-buttons">
    <button id="download-image" title="Download as Image" (click)="downloadImage()"> 
      <i class="fa-solid fa-download"></i> Download Image </button>
    
    <button id="download-pdf" title="Download as PDF" (click)="downloadPDF()">
      <i class="fa-solid fa-file-pdf"></i> Download PDF
    </button>
  </div>

</div>
<app-footer></app-footer>